<?php

require_once($_SERVER['DOCUMENT_ROOT'] . '\data\db-info.php');

class DatabaseConnection{
	
	protected static $db;
	
	public static function get_connection()
	{
		if (!self::$db) {
			try {
				$database = 'mysql:dbname='. SCHEMA .';host='. SERVER .';port=3306';
				self::$db = new PDO($database, USERNAME, PASSWD);
				self::$db->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
			} catch (PDOException $e) {
				die("Error: " . $e->getMessage());
			}
		}
		return self::$db;
	}
}
?>